<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
    rel="stylesheet" />

  <!-- css -->
  <link rel="stylesheet" href="../Shared/css/suppliers.css" />
  <script src="../Shared/angular/angular.min.js"></script>
  <script src="../Shared/angular/global.js"></script>
  <script src="../Shared/angular/suppliers.js"></script>
  <script src="../Shared/angular/translation.js"></script>
  <title>Suppliers</title>
</head>

<body ng-app="AppRetailPos" ng-controller="suppliersCtrl">
  <div class="slide-bar">
    <div class="slide-bar__header">
      <div class="app-slideBar">
        <div class="app-slideBar__left">
          <img src="../Shared/img/common/wheel.svg" alt="" class="icon" />
        </div>
        <div class="app-slideBar__right">
          <h1 class="name-app">RetailPro</h1>
          <p class="title-nameApp">Inventory & POS</p>
        </div>
      </div>
    </div>
    <div class="slide-bar__Content">
      <p class="slide-bar__label">{{ t('NAVIGATION') }}</p>
      <!-- menu button Dashboard -->
      <a href="../AdminFE/dashboard.html" ng-if="canShow('dashboard')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/dashboard.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_DASHBOARD') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button POS -->
      <a href="../AdminFE/pos.html" ng-if="canShow('pos')">
        <div class="slide-bar__MenuButton ">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/pos.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_POS') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Products -->
      <a href="../AdminFE/products.html" ng-if="canShow('products')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/product.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_PRODUCTS') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Categories -->
      <a href="../AdminFE/categories.html" ng-if="canShow('categories')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/category.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_CATEGORIES') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Promotions -->
      <a href="../AdminFE/promotions.html" ng-if="canShow('promotions')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/promotion.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_PROMOTIONS') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Customers -->
      <a href="../AdminFE/customers.html" ng-if="canShow('customers')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/customer.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_CUSTOMERS') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Suppliers -->
      <a href="../AdminFE/suppliers.html" ng-if="canShow('suppliers')">
        <div class="slide-bar__MenuButton slide-bar__MenuButton--active">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/supplier.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu-active">{{ t('NAV_SUPPLIERS') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Purchase Orders -->
      <a href="../AdminFE/purchaseorders.html" ng-if="canShow('purchaseOrders')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/purchaseorder.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_PURCHASE_ORDERS') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button StockCard -->
      <a href="../AdminFE/stockcard.html" ng-if="canShow('purchaseOrders')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/stock.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_STOCK') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Goods Receipts -->
      <a href="../AdminFE/goodsreceipts.html" ng-if="canShow('greceipts')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/goodReceipt.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('GOODS_RECEIPTS') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Goods Issues -->
      <a href="../AdminFE/goodsissues.html" ng-if="canShow('gissues')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/goodIssues.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('GOODS_ISSUES') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Sales -->
      <a href="../AdminFE/sales.html" ng-if="canShow('sales')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/sales.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_SALES') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Returns -->
      <a href="../AdminFE/returns.html" ng-if="canShow('returns')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/return.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_RETURNS') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Payments & Debts -->
      <a href="../AdminFE/payments.html" ng-if="canShow('payments')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/payments.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_PAYMENTS') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Reports -->
      <a href="../AdminFE/reports.html" ng-if="canShow('reports')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/report.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_REPORTS') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Audit Log -->
      <a href="../AdminFE/auditlog.html" ng-if="canShow('auditLog')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/auditlog.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_AUDIT_LOG') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Users -->
      <a href="../AdminFE/users.html" ng-if="canShow('users')">
        <div class="slide-bar__MenuButton ">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/user.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_USERS') }}</p>
          </div>
        </div>
      </a>
      <!-- menu button Settings -->
      <a href="../AdminFE/settings.html" ng-if="canShow('settings')">
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/setting.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">{{ t('NAV_SETTINGS') }}</p>
          </div>
        </div>
      </a>
    </div>
    <div class="slide-bar__footer">
      <div class="app-slide-bar">
        <div class="ava">
          <img class="ava" src="../Shared/img/common/ava.svg" alt="" />
        </div>
        <div class="info">
          <p class="name">{{currentUser.fullname}}</p>
          <p class="role">{{currentUser.role}}</p>
        </div>
      </div>
    </div>
  </div>



  <div class="app-layout">
    <div class="top-bar">
      <div class="top-bar__content">
        <div class="top-bar__left" style="visibility: hidden">
          <img src="../Shared/img/common/search.svg" alt="" class="icon" />
          <input class="search" type="text" placeholder="Search by categories name" ng-model="searchCategories" />
        </div>
        <div class="top-bar__right">
          <p class="role">{{currentUser.role}}</p>
          <img src="../Shared/img/common/ava.svg" alt="" class="ava" id="avatar" />
        </div>
      </div>
      <div class="top-bar__info" id="information">
        <div class="info-top">
          <p class="name">{{currentUser.fullname}}</p>
          <p class="email">{{currentUser.email}}</p>
        </div>
        <div class="info-mid">
          <a href="#!">
            <p class="set">{{ t('PROFILE_SETTINGS') }}</p>
          </a>
        </div>
        <div class="info-bottom">
          <img src="../Shared/img/categories/logout.svg" alt="" class="icon" />
          <a href="../AuthFE/login.html">
            <p class="logout">{{ t('LOGOUT') }}</p>
          </a>
        </div>
      </div>
    </div>
    <div class="app-layout-content">
      <div class="container-top">
        <div class="container-top--left">
          <h1 class="name-system">{{ t('SUPPLIER_TITLE') }}</h1>
          <p class="desc-system">
            {{ t('SUPPLIER_DESC') }}
          </p>
        </div>
        <div class="container-top--right">
          <div class="control" ng-click="openImportDialog()">
            <img src="../Shared/img/common/import.svg" alt="" class="icon-control" />
            <p class="name-control">{{ t('IMPORT_EXCEL') }}</p>
          </div>
          <input type="file" id="fileImport" accept=".xlsx,.xls" style="display: none"
            onchange="angular.element(this).scope().onImportFileChange(this)" />
          <div class="control" ng-click="exportExcel()">
            <img src="../Shared/img/common/export.svg" alt="" class="icon-control" />
            <p class="name-control">{{ t('EXPORT_EXCEL') }}</p>
          </div>
          <div class="control add-Supplier" ng-click="openAdd()">
            <img src="../Shared/img/common/plus.svg" alt="" class="icon-control" />
            <p class="name-control">{{ t('ADD_SUPPLIER') }}</p>
          </div>
        </div>
      </div>
      <div class="container-card">
        <div class="card">
          <p class="name-card">{{ t('TOTAL_SUPPLIER') }}</p>
          <p class="data-card">{{stats.totalSupplier}}</p>
        </div>
      </div>
      <div class="search-phone-suppliers">
        <img src="../Shared/img/common/search.svg" alt="" class="icon" />
        <input class="search" type="text" placeholder="{{ t('SEARCH_PHONE_SUPPLIER') }}" ng-model="searchPhone" />
      </div>

      <!-- phÃ¢n trang -->
      <div class="pager" ng-if="pager.total>0">
        <div class="pager-info">
          {{ t('PAGING_SHOWING') }}
          {{((pager.page-1)*pager.size)+1}}-{{Math.min(pager.page*pager.size,pager.total)}}
          {{ t('PAGING_OF') }} {{pager.total}} {{ t('PAGING_ITEMS') }}
        </div>
        <div class="page-nav">
          <label>
            {{ t('PAGING_PAGE_SIZE') }}:
            <select ng-model="pager.size" ng-change="changeSize()">
              <option value="10">10</option>
              <option value="20">20</option>
              <option value="30">30</option>
            </select>
          </label>
          <button class="btn ghost" ng-disable="pager.page === 1" ng-click="go(1)">
            Â«
          </button>
          <button class="btn ghost" ng-disabled="pager.page === 1" ng-click="go(pager.page-1)">
            {{ t('PAGING_PREV') }}
          </button>
          <span class="page-no"></span>
          <button class="btn ghost" ng-disabled="pager.page >= pager.pages" ng-click="go(pager.page+1)">
            {{ t('PAGING_NEXT') }}
          </button>
          <button class="btn ghost" ng-disabled="pager.page >= pager.pages" ng-click="go(pager.pages)">
            Â»
          </button>
        </div>
      </div>
      <div class="card-table">
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th class="id">{{ t('SUP_ID') }}</th>
                <th class="name">{{ t('SUP_NAME') }}</th>
                <th class="phone">{{ t('SUP_PHONE') }}</th>
                <th class="email">{{ t('SUP_EMAIL') }}</th>
                <th class="address">{{ t('SUP_ADDRESS') }}</th>
                <th class="action txt-right">{{ t('ACTIONS') }}</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="s in suppliers">
                <td>{{s.supplierID || s.SupplierID}}</td>
                <td>{{s.supplierName || s.SupplierName}}</td>
                <td>{{s.phone || s.Phone}}</td>
                <td>{{s.email || s.Email}}</td>
                <td>{{s.address || s.Address}}</td>
                <td class="txt-right">
                  <button class="link" ng-click="edit(s)">âœŽ {{ t('EDIT_RETURN5') }}</button>
                  <button class="link danger" ng-click="remove(s)">
                    ðŸ—‘ {{ t('DELETE_TITLE5') }}
                  </button>
                </td>
              </tr>
              <tr ng-if="(suppliers | filter:searchPhone).length == 0">
                <td colspan="6" class="empty">{{ t('NO_DATA') }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- form -->
      <div class="form">
        <!-- add -->
        <div class="form-add" ng-class="{open: showAdd}" ng-click="closeAddOnOverlay($event)">
          <div class="form-add__content" ng-click="$event.stopPropagation()">
            <h3 class="title">{{ t('FORM_ADD_SUPPLIER_TITLE') }}</h3>
            <p class="desc">{{ t('FORM_ADD_SUPPLIER_DESC') }}</p>
            <form name="frmAddSupplier" ng-submit="addSupplier()">
              <label for="name-add">{{ t('LABEL_SUP_NAME') }}</label>
              <input type="text" id="name-add" required placeholder="{{ t('PLACEHOLDER_SUP_NAME') }}"
                ng-model="newSupplier.SupplierName" />

              <div class="both">
                <div class="both-left">
                  <label for="phone-add">{{ t('LABEL_SUP_PHONE') }}</label>
                  <input type="text" id="phone-add" required placeholder="+84 123 456 789"
                    ng-model="newSupplier.Phone" />
                </div>
                <div class="both-right">
                  <label for="mail-add">{{ t('LABEL_SUP_EMAIL') }}</label>
                  <input type="email" id="mail-add" placeholder="supplier@email.com" ng-model="newSupplier.Email" />
                </div>
              </div>


              <label for="address-add">{{ t('LABEL_SUP_ADDRESS') }}</label>
              <input type="text" id="address-add" placeholder="123 Main Street, City" ng-model="newSupplier.Address" />

              <div class="dialog-footer">
                <button type="button" class="cancel" ng-click="cancelAdd()">
                  {{ t('BTN_CANCEL') }}
                </button>
                <input class="submit" type="submit" value="{{ t('BTN_ADD_SUPPLIER') }}"
                  ng-disabled="frmAddSupplier.$invalid || savingAdd" />
              </div>
            </form>
          </div>
        </div>

        <!-- Modal Edit Supplier -->
        <div class="form-add" ng-class="{open: showEdit}" ng-click="closeEditOnOverlay($event)">
          <div class="form-add__content" ng-click="$event.stopPropagation()">
            <h3 class="title">{{ t('FORM_EDIT_SUPPLIER_TITLE') }}</h3>
            <p class="desc">{{ t('FORM_EDIT_SUPPLIER_DESC') }}</p>
            <form name="frmEditSupplier" ng-submit="updateSupplier()">
              <label for="name-edit">{{ t('LABEL_SUP_NAME') }}</label>
              <input type="text" id="name-edit" required placeholder="{{ t('PLACEHOLDER_SUP_NAME') }}"
                ng-model="editSupplier.SupplierName" />

              <div class="both">
                <div class="both-left">
                  <label for="phone-edit">{{ t('LABEL_SUP_PHONE') }}</label>
                  <input type="text" id="phone-edit" required placeholder="+84 123 456 789"
                    ng-model="editSupplier.Phone" />
                </div>
                <div class="both-right">
                  <label for="mail-edit">{{ t('LABEL_SUP_EMAIL') }}</label>
                  <input type="email" id="mail-edit" placeholder="supplier@email.com" ng-model="editSupplier.Email" />
                </div>
              </div>


              <label for="address-edit">{{ t('LABEL_SUP_ADDRESS') }}</label>
                <input type="text" id="address-edit" placeholder="123 Main Street, City"
                ng-model="editSupplier.Address" />

              <div class="dialog-footer">
                <button type="button" class="cancel" ng-click="cancelEdit()">
                  {{ t('BTN_CANCEL') }}
                </button>
                <input class="submit" type="submit" value="{{ t('BTN_SAVE_CHANGES') }}"
                  ng-disabled="frmEditSupplier.$invalid || savingEdit" />
              </div>
            </form>
          </div>
        </div>
        <!-- Modal Delete Supplier -->
        <div class="form-delete" ng-class="{open: showDelete}" ng-click="closeDeleteOnOverlay($event)">
          <div class="form-delete__content" ng-click="$event.stopPropagation()">
            <h3 class="title">{{ t('FORM_DELETE_SUPPLIER_TITLE') }}</h3>
            <p class="desc">
              {{ t('FORM_DELETE_SUPPLIER_DESC') }}
              <strong>{{deleting.SupplierName}}</strong> ?
            </p>

            <div class="dialog-footer">
              <button type="button" class="cancel" ng-click="cancelDelete()">
                {{ t('BTN_CANCEL') }}
              </button>
              <button type="button" class="submit danger" ng-click="confirmDelete()" ng-disabled="savingDelete">
                {{ t('BTN_DELETE_SUPPLIER') }}
              </button>
            </div>
          </div>
        </div>
      </div>
  </div>
  </div>
  </div>

  <script src="../Shared/js/suppliers.js"></script>
</body>

</html>