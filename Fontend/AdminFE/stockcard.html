<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
    rel="stylesheet" />

  <!-- css -->
  <link rel="stylesheet" href="../Shared/css/stockcard.css" />
  <script src="../Shared/angular/angular.min.js"></script>
  <script src="../Shared/angular/global.js"></script>
  <script src="../Shared/angular/stockcard.js"></script>
  <!-- Th∆∞ vi·ªán ExcelJS v√† FileSaver -->
<script src="https://cdn.jsdelivr.net/npm/exceljs@4.3.0/dist/exceljs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>




  <title>Stockcard</title>
</head>
<body ng-app="AppRetailPos" ng-controller="stockcardCtrl">
  <div class="app-content">
    <div class="slide-bar">
      <div class="slide-bar__header">
        <div class="app-slideBar">
          <div class="app-slideBar__left">
            <img src="../Shared/img/common/wheel.svg" alt="" class="icon" />
          </div>
          <div class="app-slideBar__right">
            <h1 class="name-app">RetailPro</h1>
            <p class="title-nameApp">Inventory & POS</p>
          </div>
        </div>
      </div>
      <div class="slide-bar__Content">
        <p class="slide-bar__label">Navigation</p>
        <!-- menu button 1 -->
        <a href="../AdminFE/dashboard.html" ng-if="canShow('dashboard')"></a>
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/dashboard.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">Dashboard</p>
          </div>
        </div>
        </a>
        <!-- menu button 2 -->
        <a href="../AdminFE/pos.html" ng-if="canShow('pos')">
          <div class="slide-bar__MenuButton">
            <div class="MenuButton-left">
              <img src="../Shared/img/common/pos.svg" alt="" class="icon" />
            </div>
            <div class="MenuButton-right">
              <p class="name-menu">POS</p>
            </div>
          </div>
        </a>
        <!-- menu button 3 -->
        <a href="../AdminFE/product.html" ng-if="canShow('products')">
          <div class="slide-bar__MenuButton ">
            <div class="MenuButton-left">
              <img src="../Shared/img/common/product.svg" alt="" class="icon" />
            </div>
            <div class="MenuButton-right">
              <p class="name-menu">Products</p>
            </div>
          </div>
        </a>
        <!-- menu button 4 -->
        <a href="../AdminFE/categories.html" ng-if="canShow('categories')">
          <div class="slide-bar__MenuButton ">
            <div class="MenuButton-left">
              <img src="../Shared/img/common/category.svg" alt="" class="icon" />
            </div>
            <div class="MenuButton-right">
              <p class="name-menu">Categories</p>
            </div>
          </div>
        </a>
        <!-- menu button 5 -->
        <a href="../AdminFE/customers.html" ng-if="canShow('customers')">
          <div class="slide-bar__MenuButton">
            <div class="MenuButton-left">
              <img src="../Shared/img/common/customer.svg" alt="" class="icon" />
            </div>
            <div class="MenuButton-right">
              <p class="name-menu">Customers</p>
            </div>
          </div>
        </a>
        <!-- menu button 6 -->
        <a href="../AdminFE/suppliers.html" ng-if="canShow('suppliers')"></a>
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/supplier.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">Suppliers</p>
          </div>
        </div>
        </a>
        <!-- menu button 7 -->
        <a href="../AdminFE/purchaseorders.html" ng-if="canShow('purchaseOrders')">
          <div class="slide-bar__MenuButton">
            <div class="MenuButton-left">
              <img src="../Shared/img/common/purchaseorder.svg" alt="" class="icon" />
            </div>
            <div class="MenuButton-right">
              <p class="name-menu">Purchase Orders</p>
            </div>
          </div>
        </a>
        <!-- menu button 8 -->
        <a href="../AdminFE/stockcard.html" ng-if="canShow('stock')">
          <div class="slide-bar__MenuButton slide-bar__MenuButton--active">
            <div class="MenuButton-left">
              <img src="../Shared/img/common/stock.svg" alt="" class="icon" />
            </div>
            <div class="MenuButton-right">
              <p class="name-menu-active">Stock Management</p>
            </div>
          </div>
        </a>
        <!-- menu button 9 -->
        <a href="../AdminFE/sales.html" ng-if="canShow('sales')">
          <div class="slide-bar__MenuButton">
            <div class="MenuButton-left">
              <img src="../Shared/img/common/sales.svg" alt="" class="icon" />
            </div>
            <div class="MenuButton-right">
              <p class="name-menu">Sales</p>
            </div>
          </div>
        </a>
        <!-- menu button 10 -->
        <a href="../AdminFE/returns.html" ng-if="canShow('returns')">
          <div class="slide-bar__MenuButton">
            <div class="MenuButton-left">
              <img src="../Shared/img/common/return.svg" alt="" class="icon" />
            </div>
            <div class="MenuButton-right">
              <p class="name-menu">Returns</p>
            </div>
          </div>
        </a>
        <!-- menu button 11 -->
        <a href="../AdminFE/payments.html" ng-if="canShow('returns')">
          <div class="slide-bar__MenuButton">
            <div class="MenuButton-left">
              <img src="../Shared/img/common/payments.svg" alt="" class="icon" />
            </div>
            <div class="MenuButton-right">
              <p class="name-menu">Payments & Debts</p>
            </div>
          </div>
        </a>
        <!-- menu button 12 -->
        <a href="../AdminFE/reports.html" ng-if="canShow('reports')">
          <div class="slide-bar__MenuButton">
            <div class="MenuButton-left">
              <img src="../Shared/img/common/report.svg" alt="" class="icon" />
            </div>
            <div class="MenuButton-right">
              <p class="name-menu">Reports</p>
            </div>
          </div>
        </a>
        <!-- menu button 13 -->
        <a href="../AdminFE/auditlog.html" ng-if="canShow('auditLog')"></a>
        <div class="slide-bar__MenuButton">
          <div class="MenuButton-left">
            <img src="../Shared/img/common/auditlog.svg" alt="" class="icon" />
          </div>
          <div class="MenuButton-right">
            <p class="name-menu">Audit Log</p>
          </div>
        </div>
        </a>
        <!-- menu button 14 -->
        <a href="../AdminFE/users.html" ng-if="canShow('users')">
          <div class="slide-bar__MenuButton">
            <div class="MenuButton-left">
              <img src="../Shared/img/common/user.svg" alt="" class="icon" />
            </div>
            <div class="MenuButton-right">
              <p class="name-menu">Users</p>
            </div>
          </div>
        </a>
        <!-- menu button 15 -->
        <a href="../AdminFE/settings.html" ng-if="canShow('settings')">
          <div class="slide-bar__MenuButton">
            <div class="MenuButton-left">
              <img src="../Shared/img/common/setting.svg" alt="" class="icon" />
            </div>
            <div class="MenuButton-right">
              <p class="name-menu">Settings</p>
            </div>
          </div>
        </a>
      </div>
      <div class="slide-bar__footer">
        <div class="app-slide-bar">
          <div class="ava">
            <img class="ava" src="../Shared/img/common/ava.svg" alt="" />
          </div>
          <div class="info">
            <p class="name">{{currentUser.fullname}}</p>
            <p class="role">{{currentUser.role}}</p>
          </div>
        </div>
      </div>
    </div>
    <div class="app-layout">
      <div class="top-bar">
        <div class="top-bar__content">
          <div class="top-bar__left">
            <img src="../Shared/img/common/search.svg" alt="" class="icon" />
            <input class="search" type="text" placeholder="Search by product name" 
                ng-model="searchProduct" ng-change="filter()"
/>
          </div>
          <div class="top-bar__right">
            <p class="role">admin</p>
            <img src="../Shared/img/common/ava.svg" alt="" class="ava" id="avatar" />
          </div>
        </div>
        <div class="top-bar__info" id="information">
          <div class="info-top">
            <p class="name">John Doe</p>
            <p class="email">john@company.com</p>
          </div>
          <div class="info-mid">
            <a href="#!">
              <p class="set">Profile Settings</p>
            </a>
          </div>
          <div class="info-bottom">
            <img src="" alt="" class="icon" />
            <a href="../AuthFE/login.html">
              <p class="logout">Logout</p>
            </a>
          </div>
        </div>
      </div>


      <div class="app-layout-content">
        <h1 class="name-menu">Stock Management</h1>
        <p class="desc">
          View and manage all stock movements
        </p>
        <div class="display-container">
          <div class="total farme">
            <p class="name-display">Total Stockcard</p>
            <p class="data">{{stats.total}}</p>
          </div>
          <div class="avg farme">
            <p class="name-display">In stock</p>
            <p class="data">{{stats.instock}}</p>
          </div>
          <div class="most-common farme">
            <p class="name-display">Out Stock</p>
            <p class="data">{{stats.outstock}}</p>
          </div>
        </div>
        <div class="control">
          <div class="control-left">
            <img src="../Shared/img/common/search.svg" alt="" class="icon" />
            <select class="search" placeholder="Search by TransactionType" ng-change="filter()" ng-model="searchType">
                <option value="ALL">ALL</option>
                <option value="IN">IN</option>
                <option value="OUT">OUT</option>
            </select>
          </div>

          
          
          <!-- ph√¢n trang -->
          <div class="pager" ng-if="pager.total>0">
            <div class="pager-info">
              Showing
              {{((pager.page-1)*pager.size)+1}}-{{Math.min(pager.page*pager.size,pager.total)}}
              of {{pager.total}} items
            </div>
            <div class="page-nav">
              <label>
                Page size:
                <select ng-model="pager.size" ng-change="changeSize()">
                  <option value="-1">ALL</option>
                  <option value="10">10</option>
                  <option value="20">20</option>
                  <option value="30">30</option>
                </select>
              </label>
              <button class="btn ghost" ng-disabled="pager.page === 1" ng-click="go(1)">
                ¬´
              </button>
              <button class="btn ghost" ng-disabled="pager.page === 1" ng-click="go(pager.page-1)">
                Prev
              </button>
              <span class="page-no"></span>
              <button class="btn ghost" ng-disabled="pager.page >= pager.pages" ng-click="go(pager.page+1)">
                Next
              </button>
              <button class="btn ghost" ng-disabled="pager.page >= pager.pages" ng-click="go(pager.pages)">
                ¬ª
              </button>
            </div>
          </div>
          <div class="control-right">
            <div class="control-date">
            <input class="search" type="date" ng-model="searchFromDate" ng-change="filter()"/>
            </div>
            <div class="control-date">
            <input class="search" type="date" ng-model="searchToDate" ng-change="filter()"/>
            </div>

            <div class="export" ng-click="exportExcel()">
              <img src="../Shared/img/common/export.svg" alt="" class="icon" />
            </div>

          </div>
        </div>
        <!-- table -->
        <div class="card">
          <div class="table-responsive">
            <table class="table">
                <thead>
                    <tr>
                    <th>ID</th>
                    <th>Product Name</th>
                    <th>Transaction</th>
                    <th>Quantity</th>
                    <th>Date</th>
                    <th class="txt-right">Actions</th>
                    </tr>
                </thead>

                <tbody>
                    <tr ng-repeat="s in stocks">
                    <td>{{s.stockID}}</td>
                    <td>{{s.productName}}</td>
                    <td>{{s.transactionType}}</td>
                    <td>{{s.quantity}}</td>
                    <td>{{s.transactionDate | date:'dd/MM/yyyy'}}</td>

                    <td class="txt-right">
                        <button class="link danger" ng-click="remove(s)">üóë</button>
                        <button class="link" ng-click="detail(s)">üëÅÔ∏è</button>
                    </td>
                    </tr>

                    <tr ng-if="!stocks || stocks.length == 0">
                    <td colspan="6" class="empty">No Data</td>
                    </tr>
                </tbody>
            </table>
          </div>
        </div>
        <!-- form -->
        <div class="form">
          <!-- detail -->
          <div class="form-detail">
            <div class="form-detail__content">
              <h3 class="title">detail Stockcard</h3>
              <p class="desc">detail Stockcard </p>
              <form name="frmDetail" >
                <!-- C·ªôt tr√°i ng-submit="detail()"-->
                <div>
                  <label for="stockID-detail">StockID</label>
                  <input type="text" id="stockID-detail" readonly
                    ng-model="detailStock.stockID" />


                  <label for="productName-detail">ProductName</label>
                  <input type="text" id="productName-detail"  readonly
                    ng-model="detailStock.productName" />


                    <label for="type-detail">TransactionType</label>
                  <select id="type-detail" ng-model="detailStock.transactionType" disabled>
                    <option value="IN">IN</option>
                    <option value="OUT">OUT</option>
                  </select>


                  <label for="quantity-detail">Quantity</label>
                  <input type="text" id="quantity-detail" readonly
                    ng-model="detailStock.quantity" />


                    <label for="balance-detail">Balance</label>
                  <input type="text" id="balance-detail" readonly
                    ng-model="detailStock.balance" />


                     <label for="transactionDate-detail">TransactionDate</label>
                  <input type="text" id="transactionDate-detail" readonly
                    ng-model="detailStock.transactionDate" />
                </div>

                <!-- C·ªôt ph·∫£i -->
                <div>

                    <label for="productID-detail">ProductID</label>
                  <input type="text" id="productID-detail" readonly
                    ng-model="detailStock.productID" />

                  <label for="receiptID-detail">ReceiptID</label>
                  <input type="text" id="receiptID-detail"  readonly
                    ng-model="detailStock.receiptID" />


                    <label for="issueID-detail">IssueID</label>
                  <input type="text" id="issueID-detail" readonly
                    ng-model="detailStock.issueID" />


                    <label for="supplierID-detail">SupplierID</label>
                  <input type="text" id="supplierID-detail" readonly
                    ng-model="detailStock.supplierID" />

                    <label for="batchNo-detail">BatchNo</label>
                  <input type="text" id="batchNo-detail" readonly
                    ng-model="detailStock.batchNo" />
                </div>


                <!-- Footer -->
                <div class="dialog-footer">
                  <button type="button" class="cancel" ng-click="closeForm()">Cancel</button>
                </div>
              </form>

            </div>
          </div>
          

          <!-- delete -->
          <div class="form-delete" ng-class="{open:showDelete}" ng-click="closeDeleteOnOverlay($event)">
            <div class="form-delete__content"  ng-click="$event.stopPropagation()">
              <h3 class="title">Delete Stockcard</h3>
              <p class="desc">
                Are you sure you want to delete the Stockcard
                "{ID{deleting.stockID}}"? This action cannot be undone.
              </p>
              <div class="dialog-footer">
                <button class="cancel" ng-click="cancelDelete($event)">
                  Cancel
                </button>
                <button type="button" class="submit danger" ng-click="confirmDelete()" ng-disabled="deletingBusy">
                  Delete Stockcard
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  

  <script src="../Shared/js/stockcardfe.js"></script>


  <!-- ƒê√¢y l√† FileSaver.js ‚Äî th∆∞ vi·ªán gi√∫p b·∫°n t·∫£i file t·ª´ tr√¨nh duy·ªát (client-side). -->
  
</body>

</html>